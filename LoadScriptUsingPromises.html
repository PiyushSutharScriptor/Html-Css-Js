<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            background-color: aquamarine;
        }

        p {
            font-size: 70px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-weight: bolder;
            text-decoration: underline;
            padding: 30px;
        }
    </style>

</head>

<body>
    <p>LoadScript Using Promises : </p>
    <p>with resolves values and catching error</p>
</body>

<script>

    const loadscript = ((src)=>{
        return new Promise ((resolve,reject)=>{
            let script = document.createElement("script")
            script.src = src;
            document.body.appendChild(script)
            script.onload = ()=>{
                alert("Script loaded successfully")
                resolve(1)
            }
            script.onerror = ()=>{
                alert("Script failed in loading")
                reject(0)
            }
        })

    })

    //==> Correct src for resolve case : 
    let p = loadscript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")

    //==> Incorrect src for reject case : 
    // let p = loadscript("https://cdn.jsdelivrsdfdfdfdfdf.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")

    p.then((value)=>{
        console.log(value)
        return loadscript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")
    }).then((value)=>{
        console.log("Second script ready")
    }).catch((error)=>{
        console.log("Error catch while failure in loadscript")
    })

</script>
</html>

<link rel="stylesheet" href="style.css">